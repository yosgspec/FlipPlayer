var FlipPlayer=function(){"use strict";var t=k.prototype;var e=0;var i="#"+ ++e;var s="#"+ ++e;var n="#"+ ++e;var r="#"+ ++e;var h="#"+ ++e;var o="#"+ ++e;var a="#"+ ++e;var l="#"+ ++e;var u="#"+ ++e;var f="#"+ ++e;var v="#"+ ++e;var d="#"+ ++e;var c="#"+ ++e;var y="#"+ ++e;var p="#"+ ++e;var g="#"+ ++e;var b="#"+ ++e;var m="#"+ ++e;var w="#"+ ++e;var x="#"+ ++e;function k(t,e,h){this[i]=document.getElementById(t);this[s]=e.slice();var o=h?h.cd||"":"";if(o.slice(-1)!="/")o=o+"/";this[n]=h?h.frameTime||1e3/12:1e3/12;this[r]=h?h.jumpURL||null:null;var a=h?h.background||null:null;var l=h?h.isPixelated||true:true;this[d]=h?h.callback||null:null;if(h&&h.keyEvents)this[y](h.keyEvents);this[c](a,l,o);this.reset()}Object.defineProperties(t,{index:{get:function(){return this[o]}},frames:{get:function(){return this[s]}},count:{get:function(){return this[s].length}}});t[c]=function(t,e,n){var r=this[i];r.tabIndex=0;r.style.display="none";r.style.position="relative";r.style.userSelect="none";r.style.outline="none";var h=r.id+"_";var o=r.style.width!=""?"width:"+r.style.width+";":"";var a=r.style.height!=""?"height:"+r.style.height+";":"";var l=function(t,i){if(document.getElementById(h+t)!=null)return;r.insertAdjacentHTML("beforeend",'<img id="'+h+t+'" src="'+n+t+'" style="'+"position:"+(i?"relative":"absolute")+";"+"visibility:hidden;"+"z-index:1;"+"left:0px;top:0px;"+o+a+(!e?"":"image-rendering:pixelated;"+"image-rendering:crisp-edges;"+"-ms-interpolation-mode:nearest-neighbor;")+'">')};for(var u=0;u<this[s].length;u++){if(0<=["for","next"].indexOf(this[s][u][0].toLowerCase()))continue;l(this[s][u][0],u===0)}if(t){l(t,false);var f=document.getElementById(h+t);f.style.zIndex="0";f.style.visibility=""}window.addEventListener("load",(function(){r.style.display="inline-block"}))};t[y]=function(t){var e={next:{event:"keyup",keys:["z","Z"," ","Spacebar","Enter","ArrowRight","Right"],onKeys:this.next.bind(this)},skip:{event:"keydown",keys:["x","X"],onKeys:this.next.bind(this)},prev:{event:"keyup",keys:["Backspace","ArrowLeft","Left"],onKeys:function(){return this.prev().stop()}.bind(this)},stop:{event:"keyup",keys:["p","P","ArrowDown","Down"],onKeys:this.stop.bind(this)},reset:{event:"keyup",keys:["t","T","Escape","Esc","ArrowUp","Up"],onKeys:this.reset.bind(this)}};Object.keys(e).forEach(function(s){var n=s+"Keys";var r="on"+s[0].toUpperCase()+s.slice(1)+"Keys";if(!(n in t))t[n]=e[s].keys;if(!(r in t))t[r]=e[s].onKeys;if(t[n]===null||t[r]===null)return;this[i].addEventListener(e[s].event,(function(e){e.preventDefault();e.stopPropagation();if(0<=t[n].indexOf(e.key))t[r]()}))}.bind(this))};t[p]=function(t){var e=0;var n=this[i].id+"_";t=n+t;var r=this[s];document.getElementById(t).style.visibility="visible";setTimeout((function(){var e=0;for(var i=0;i<r.length;i++){if(0<=["for","next"].indexOf(r[i][e].toLowerCase()))continue;var s=document.getElementById(n+r[i][e]);if(s.id===t)continue;s.style.visibility="hidden"}}),1)};t[g]=function(t){this[f]=t;this[i].style.cursor=t?"":"pointer"};t.reset=function(){this[o]=0;this[v]=false;this[x]();return this};t[b]=function(){this[v]=true;this[x]()};t[m]=function(){var t=0;var e=1;if(this[s].length<=this[o])return this[b]();var i=this[s][this[o]];if(i[t].toLowerCase()==="for"){this[o]++;this[u]=0;this[l]=i[e];this[a]=this[o];i=this[s][this[o]]}if(i[t].toLowerCase()==="next"){this[u]++;if(this[u]<this[l]){this[o]=this[a]}else{this[o]++}i=this[s][this[o]]}if(this[d]!==null){this[d](this,this[o],this[s]);i=this[s][this[o]]}this[p](i[t]);this[g](0<i[e]);this[o]++;this[w]=setTimeout(function(){if(!this[f])return;this[m]()}.bind(this),this[n]*i[e])};t[x]=function(){if(this[v]){if(this[r]===null)return this.reset();return window.open(this[r],"_self")}this[m]()};t.next=function(){if(this[f])return this;this[x]();return this};t.prev=function(){var t=0;var e=this[o];e-=2;while(0<=e&&0<=["for","next"].indexOf(this[s][e][t].toLowerCase()))e--;this[o]=0<=e?e:0;this[x]();return this};t.jump=function(t,e){clearTimeout(this[w]);this.setIndex(t,e);this[x]();return this};t.stop=function(){this[g](false);return this};t.setIndex=function(t,e){var i;if("number"===typeof t&&!isNaN(t)){i=t;if(this[s].length<=i)throw new RangeError}else{var n=t;i=-1;if(e){for(var r=this[s].length-1;0<=r;r--){if(this[s][r][0]===n){i=r;break}}}else{for(var r=0;r<this[s].length;r++){if(this[s][r][0]===n){i=r;break}}}if(i<0)throw new TypeError}this[o]=i;return this};return k}();